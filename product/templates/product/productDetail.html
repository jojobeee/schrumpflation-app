{% extends 'product/base.html' %}
{% load render_table from django_tables2 %} 

{% block body %}
<h1>Product: {{product.name}}</h1>

  <div class = "container">
    <h2>Brand: {{product.brand}}</h2>
    <p> </p>
    {% render_table table %}

  </div>

  <div class="row mt-4">
    <div class="col-12">
        <h2>Price and size changes over time</h2>
        {% if price_change.change_p > 02.00 %}
            <p>Between {{ price_change.oldest_date }} and {{ price_change.newest_date }}, the <b>price</b> increased by {{ price_change.change_p }}%</p>
        {% elif price_change.change_p < 0.00 %}
            <p>Between {{ price_change.oldest_date }} and {{ price_change.newest_date }}, the <b>price</b> decreased by {{ price_change.change_p }}%</p>
        {% elif price_change.change_p == 0.00 %}
            <p>Between {{ price_change.oldest_date }} and {{ price_change.newest_date }}, the <b>price</b> remained the same.</p>
        {% else %}
            <p>Not enough data to calculate <b>price</b> change.</p>
        {% endif %}

      {% if size_change.change_s > 02.00 %}
          <p>Between {{ size_change.oldest_date }} and {{ size_change.newest_date }}, the <b>size</b> increased by {{ size_change.change_s }}%</p>
      {% elif size_change.change_s < 0.00 %}
          <p>Between {{ size_change.oldest_date }} and {{ size_change.newest_date }}, the <b>size</b> decreased by {{ size_change.change_s }}%</p>
      {% elif size_change.change_s == 0.00 %}
          <p>Between {{ size_change.oldest_date }} and {{ size_change.newest_date }}, the <b>size</b> remained the same.</p>
      {% else %}
          <p>Not enough data to calculate <b>size</b> change.</p>
      {% endif %}
    </div>
  </div>  

{% endblock %}
